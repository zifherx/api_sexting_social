{"version":3,"sources":["../../src/libs/initialSetup.js"],"names":["createRoles","Role","estimatedDocumentCount","conteo","Promise","all","name","description","save","valores","console","log","createAdminUser","User","master","find","roleAdmin","codigoRol","map","a","_id","encryptPassword","username","password","email","roles","usuario"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAEO,IAAMA,WAAW;AAAA,qEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEEC,iBAAKC,sBAAL,EAFF;;AAAA;AAEbC,YAAAA,MAFa;;AAAA,kBAIfA,MAAM,GAAG,CAJM;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,mBAMGC,OAAO,CAACC,GAAR,CAAY,CAC9B,IAAIJ,gBAAJ,CAAS;AAAEK,cAAAA,IAAI,EAAE,eAAR;AAAyBC,cAAAA,WAAW,EAAE;AAAtC,aAAT,EAA8DC,IAA9D,EAD8B,EAE9B,IAAIP,gBAAJ,CAAS;AAAEK,cAAAA,IAAI,EAAE,SAAR;AAAmBC,cAAAA,WAAW,EAAE;AAAhC,aAAT,EAA4DC,IAA5D,EAF8B,CAAZ,CANH;;AAAA;AAMbC,YAAAA,OANa;AAUnBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AAVmB;AAAA;;AAAA;AAAA;AAAA;AAYnBC,YAAAA,OAAO,CAACC,GAAR;;AAZmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAXX,WAAW;AAAA;AAAA;AAAA,GAAjB;;;;AAgBA,IAAMY,eAAe;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEFC,iBAAKX,sBAAL,EAFE;;AAAA;AAEjBY,YAAAA,MAFiB;AAAA;AAAA,mBAICb,iBAAKc,IAAL,CAAU;AAAET,cAAAA,IAAI,EAAE;AAAR,aAAV,CAJD;;AAAA;AAIjBU,YAAAA,SAJiB;AAKnBC,YAAAA,SALmB,GAKPD,SAAS,CAACE,GAAV,CAAc,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACC,GAAN;AAAA,aAAf,CALO;;AAAA,kBAOnBN,MAAM,GAAG,CAPU;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,2BAQDV,OARC;AAAA,2BASfS,gBATe;AAAA;AAAA,mBAYCA,iBAAKQ,eAAL,CAAqB,OAArB,CAZD;;AAAA;AAAA;AAAA,2BAeRJ,SAfQ;AAAA;AAUfX,cAAAA,IAVe,EAUT,gBAVS;AAWfgB,cAAAA,QAXe,EAWL,SAXK;AAYfC,cAAAA,QAZe;AAafC,cAAAA,KAbe,EAaR,sBAbQ;AAcfjB,cAAAA,WAde,EAcF,6BAdE;AAefkB,cAAAA,KAfe;AAAA;AAAA,0DAgBhBjB,IAhBgB;AAAA;AAAA;AAAA,gCAQOH,GARP;;AAAA;AAQjBqB,YAAAA,OARiB;AAkBvBhB,YAAAA,OAAO,CAACC,GAAR,CAAYe,OAAZ;AAlBuB;AAAA;;AAAA;AAAA;AAAA;AAoBvBhB,YAAAA,OAAO,CAACC,GAAR;;AApBuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfC,eAAe;AAAA;AAAA;AAAA,GAArB","sourcesContent":["import Role from '../models/Role'\r\nimport User from '../models/User';\r\n\r\nexport const createRoles = async() => {\r\n    try {\r\n        const conteo = await Role.estimatedDocumentCount();\r\n\r\n        if (conteo > 0) return;\r\n\r\n        const valores = await Promise.all([\r\n            new Role({ name: 'Administrador', description: 'Webmaster' }).save(),\r\n            new Role({ name: 'Usuario', description: 'Usuario ComÃºn' }).save()\r\n        ])\r\n        console.log(valores)\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n}\r\n\r\nexport const createAdminUser = async() => {\r\n    try {\r\n        const master = await User.estimatedDocumentCount();\r\n\r\n        const roleAdmin = await Role.find({ name: 'Administrador' });\r\n        let codigoRol = roleAdmin.map(a => a._id)\r\n\r\n        if (master > 0) return;\r\n        const usuario = await Promise.all([\r\n            new User({\r\n                name: 'Fernando Rojas',\r\n                username: 'zifherx',\r\n                password: await User.encryptPassword('admin'),\r\n                email: 'frojasq@ziphonex.com',\r\n                description: 'Webmaster de Sexting Social',\r\n                roles: codigoRol\r\n            }).save()\r\n        ])\r\n        console.log(usuario)\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n}"],"file":"initialSetup.js"}